class Solution(object):
    def maxRotateFunction(self, nums):
        n,total=len(nums),sum(nums)
        f=sum(i*num for i,num in enumerate(nums))
        res=f
        for i in range(1,n):
            f+=total-n*nums[-i]
            res=max(res,f)
        return res
        
